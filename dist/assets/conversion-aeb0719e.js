import{C as z,D as J,E as q,G as H,i as W,H as V,I as K}from"./index-c33601ed.js";let C;const Q={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};let X=z({},Q);function Y(){({instance:C}=q({setup(){const{state:P,toggle:g}=H();return()=>W(K,V(P,{"onUpdate:show":g}),null)}}))}function tt(v){return J?new Promise((P,g)=>{C||Y(),C.open(z({},X,v,{callback:d=>{(d==="confirm"?P:g)(d)}}))}):Promise.resolve()}var Z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L={exports:{}};(function(v,P){(function(g,d){v.exports=d()})(Z,function(){return function(g){var d={};function u(i){if(d[i])return d[i].exports;var s=d[i]={i,l:!1,exports:{}};return g[i].call(s.exports,s,s.exports,u),s.l=!0,s.exports}return u.m=g,u.c=d,u.d=function(i,s,p){u.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:p})},u.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},u.t=function(i,s){if(1&s&&(i=u(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var p=Object.create(null);if(u.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var y in i)u.d(p,y,(function(j){return i[j]}).bind(null,y));return p},u.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return u.d(s,"a",s),s},u.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},u.p="",u(u.s=0)}([function(g,d,u){var i;function s(o){return["image/png","image/jpeg","image/gif"].some(e=>e===o)}u.r(d),u.d(d,"canvastoDataURL",function(){return y}),u.d(d,"canvastoFile",function(){return j}),u.d(d,"dataURLtoFile",function(){return x}),u.d(d,"dataURLtoImage",function(){return O}),u.d(d,"downloadFile",function(){return D}),u.d(d,"filetoDataURL",function(){return E}),u.d(d,"imagetoCanvas",function(){return B}),u.d(d,"urltoBlob",function(){return G}),u.d(d,"urltoImage",function(){return S}),u.d(d,"compress",function(){return T}),u.d(d,"compressAccurately",function(){return _}),u.d(d,"EImageType",function(){return i}),function(o){o.PNG="image/png",o.JPEG="image/jpeg",o.GIF="image/gif"}(i||(i={}));var p=function(o,e,n,t){return new(n||(n=Promise))(function(a,l){function h(c){try{m(t.next(c))}catch(r){l(r)}}function f(c){try{m(t.throw(c))}catch(r){l(r)}}function m(c){var r;c.done?a(c.value):(r=c.value,r instanceof n?r:new n(function(w){w(r)})).then(h,f)}m((t=t.apply(o,e||[])).next())})};function y(o,e=.92,n=i.JPEG){return p(this,void 0,void 0,function*(){return s(n)||(n=i.JPEG),o.toDataURL(n,e)})}function j(o,e=.92,n=i.JPEG){return new Promise(t=>o.toBlob(a=>t(a),n,e))}var R=function(o,e,n,t){return new(n||(n=Promise))(function(a,l){function h(c){try{m(t.next(c))}catch(r){l(r)}}function f(c){try{m(t.throw(c))}catch(r){l(r)}}function m(c){var r;c.done?a(c.value):(r=c.value,r instanceof n?r:new n(function(w){w(r)})).then(h,f)}m((t=t.apply(o,e||[])).next())})};function x(o,e){return R(this,void 0,void 0,function*(){const n=o.split(",");let t=n[0].match(/:(.*?);/)[1];const a=atob(n[1]);let l=a.length;const h=new Uint8Array(l);for(;l--;)h[l]=a.charCodeAt(l);return s(e)&&(t=e),new Blob([h],{type:t})})}function O(o){return new Promise((e,n)=>{const t=new Image;t.onload=()=>e(t),t.onerror=()=>n(new Error("dataURLtoImage(): dataURL is illegal")),t.src=o})}function D(o,e){const n=document.createElement("a");n.href=window.URL.createObjectURL(o),n.download=e||Date.now().toString(36),document.body.appendChild(n);const t=document.createEvent("MouseEvents");t.initEvent("click",!1,!1),n.dispatchEvent(t),document.body.removeChild(n)}function E(o){return new Promise(e=>{const n=new FileReader;n.onloadend=t=>e(t.target.result),n.readAsDataURL(o)})}var F=function(o,e,n,t){return new(n||(n=Promise))(function(a,l){function h(c){try{m(t.next(c))}catch(r){l(r)}}function f(c){try{m(t.throw(c))}catch(r){l(r)}}function m(c){var r;c.done?a(c.value):(r=c.value,r instanceof n?r:new n(function(w){w(r)})).then(h,f)}m((t=t.apply(o,e||[])).next())})};function B(o,e={}){return F(this,void 0,void 0,function*(){const n=Object.assign({},e),t=document.createElement("canvas"),a=t.getContext("2d");let l,h;for(const f in n)Object.prototype.hasOwnProperty.call(n,f)&&(n[f]=Number(n[f]));if(n.scale){const f=n.scale>0&&n.scale<10?n.scale:1;h=o.width*f,l=o.height*f}else h=n.width||n.height*o.width/o.height||o.width,l=n.height||n.width*o.height/o.width||o.height;switch([5,6,7,8].some(f=>f===n.orientation)?(t.height=h,t.width=l):(t.height=l,t.width=h),n.orientation){case 3:a.rotate(180*Math.PI/180),a.drawImage(o,-t.width,-t.height,t.width,t.height);break;case 6:a.rotate(90*Math.PI/180),a.drawImage(o,0,-t.width,t.height,t.width);break;case 8:a.rotate(270*Math.PI/180),a.drawImage(o,-t.height,0,t.height,t.width);break;case 2:a.translate(t.width,0),a.scale(-1,1),a.drawImage(o,0,0,t.width,t.height);break;case 4:a.translate(t.width,0),a.scale(-1,1),a.rotate(180*Math.PI/180),a.drawImage(o,-t.width,-t.height,t.width,t.height);break;case 5:a.translate(t.width,0),a.scale(-1,1),a.rotate(90*Math.PI/180),a.drawImage(o,0,-t.width,t.height,t.width);break;case 7:a.translate(t.width,0),a.scale(-1,1),a.rotate(270*Math.PI/180),a.drawImage(o,-t.height,0,t.height,t.width);break;default:a.drawImage(o,0,0,t.width,t.height)}return t})}function G(o){return fetch(o).then(e=>e.blob())}function S(o){return new Promise((e,n)=>{const t=new Image;t.onload=()=>e(t),t.onerror=()=>n(new Error("urltoImage(): Image failed to load, please check the image URL")),t.src=o})}var N=function(o,e,n,t){return new(n||(n=Promise))(function(a,l){function h(c){try{m(t.next(c))}catch(r){l(r)}}function f(c){try{m(t.throw(c))}catch(r){l(r)}}function m(c){var r;c.done?a(c.value):(r=c.value,r instanceof n?r:new n(function(w){w(r)})).then(h,f)}m((t=t.apply(o,e||[])).next())})};function T(o,e={}){return N(this,void 0,void 0,function*(){if(!(o instanceof Blob))throw new Error("compress(): First arg must be a Blob object or a File object.");if(typeof e!="object"&&(e=Object.assign({quality:e})),e.quality=Number(e.quality),Number.isNaN(e.quality))return o;const n=yield E(o);let t=n.split(",")[0].match(/:(.*?);/)[1],a=i.JPEG;s(e.type)&&(a=e.type,t=e.type);const l=yield O(n),h=yield B(l,Object.assign({},e)),f=yield y(h,e.quality,a),m=yield x(f,t);return m.size>o.size?o:m})}function _(o,e={}){return N(this,void 0,void 0,function*(){if(!(o instanceof Blob))throw new Error("compressAccurately(): First arg must be a Blob object or a File object.");if(typeof e!="object"&&(e=Object.assign({size:e})),e.size=Number(e.size),Number.isNaN(e.size)||1024*e.size>o.size)return o;e.accuracy=Number(e.accuracy),(!e.accuracy||e.accuracy<.8||e.accuracy>.99)&&(e.accuracy=.95);const n=e.size*(2-e.accuracy)*1024,t=1024*e.size,a=e.size*e.accuracy*1024,l=yield E(o);let h=l.split(",")[0].match(/:(.*?);/)[1],f=i.JPEG;s(e.type)&&(f=e.type,h=e.type);const m=yield O(l),c=yield B(m,Object.assign({},e));let r,w=.5;const k=[null,null];for(let b=1;b<=7;b++){r=yield y(c,w,f);const I=.75*r.length;if(b===7){(n<I||a>I)&&(r=[r,...k].filter(M=>M).sort((M,A)=>Math.abs(.75*M.length-t)-Math.abs(.75*A.length-t))[0]);break}if(n<I)k[1]=r,w-=Math.pow(.5,b+1);else{if(!(a>I))break;k[0]=r,w+=Math.pow(.5,b+1)}}const U=yield x(r,h);return U.size>o.size?o:U})}}])})})(L);var et=L.exports;export{et as c,tt as s};
